# 요청 진행상황 조회 사용 가이드

## 개요

이메일 처리 요청의 진행상황을 실시간으로 추적하고 모니터링할 수 있는 기능입니다.

## 주요 기능

### 1. 자동 요청 ID 저장
- 이메일 처리를 시작하면 자동으로 요청 ID가 생성됩니다
- 요청 ID는 브라우저에 자동으로 저장됩니다
- 나중에 언제든지 진행상황을 확인할 수 있습니다

### 2. 이메일 알림에 요청 ID 포함
- 처리 시작 알림 이메일에 요청 ID가 포함됩니다
- 완료 알림 이메일에도 요청 ID가 포함됩니다
- 이메일에서 받은 요청 ID로 진행상황을 조회할 수 있습니다

### 3. 실시간 진행상황 모니터링
- 처리 중인 이메일 수를 실시간으로 확인
- 프로그레스 바로 진행률 표시
- 상세 로그를 실시간으로 확인

## 사용 방법

### 방법 1: 메인 페이지에서 직접 이동

1. 메인 페이지(/)에서 이메일 처리 요청 제출
2. 응답 메시지에 표시되는 요청 ID 확인
3. 상단의 "📊 요청 진행상황 조회" 링크 클릭
4. 저장된 요청 목록에서 해당 요청 선택
5. "조회" 버튼 클릭하여 실시간 진행상황 확인

### 방법 2: 이메일에서 요청 ID 확인

1. 처리 시작 또는 완료 알림 이메일 확인
2. 이메일에 표시된 요청 ID 복사
3. 진행상황 조회 페이지(/status) 접속
4. "요청 ID 추가" 섹션에 요청 ID 입력
5. "추가" 버튼 클릭
6. 요청 목록에서 "조회" 버튼 클릭

### 방법 3: 북마크로 저장

진행상황 조회 페이지를 북마크에 추가하여 언제든지 빠르게 접근할 수 있습니다.

## 요청 상태

### 대기중 (Pending)
- 요청이 생성되었으나 아직 처리가 시작되지 않은 상태
- 배경 스레드가 시작되기 전 단계

### 처리중 (Processing)
- 현재 이메일을 처리하고 있는 상태
- 실시간 로그와 프로그레스 바가 업데이트됩니다

### 완료 (Completed)
- 모든 이메일 처리가 성공적으로 완료된 상태
- 결과 이메일이 발송됩니다

### 실패 (Failed)
- 처리 중 오류가 발생한 상태
- 오류 메시지를 확인할 수 있습니다

## 요청 ID 형식

요청 ID는 UUID v4 형식을 따릅니다:
```
550e8400-e29b-41d4-a716-446655440000
```

- 8-4-4-4-12 형식의 하이픈으로 구분된 문자열
- 총 36자 (하이픈 포함)
- 0-9, a-f 문자만 사용

## 자주 묻는 질문 (FAQ)

### Q: 요청 ID를 잊어버렸어요
A: 처리 시작 또는 완료 알림 이메일에서 요청 ID를 확인할 수 있습니다.

### Q: 브라우저를 닫으면 요청 ID가 사라지나요?
A: 아니요, 요청 ID는 브라우저의 localStorage에 저장되므로 브라우저를 닫아도 유지됩니다.

### Q: 다른 컴퓨터에서 진행상황을 확인할 수 있나요?
A: 네, 이메일에서 받은 요청 ID를 다른 컴퓨터의 진행상황 조회 페이지에 입력하면 확인할 수 있습니다.

### Q: 요청 ID를 삭제하면 처리가 중단되나요?
A: 아니요, 요청 ID 삭제는 브라우저의 목록에서만 제거할 뿐 서버의 처리에는 영향을 주지 않습니다.

### Q: 얼마나 오래된 요청까지 조회할 수 있나요?
A: 현재 서버 재시작 전까지의 모든 요청을 조회할 수 있습니다. 향후 데이터베이스 저장 기능이 추가될 예정입니다.

### Q: 여러 개의 요청을 동시에 모니터링할 수 있나요?
A: 네, 여러 요청 ID를 저장하고 각각의 진행상황을 개별적으로 확인할 수 있습니다.

## 팁

1. **북마크 활용**: 진행상황 조회 페이지를 북마크에 추가하세요
2. **이메일 보관**: 알림 이메일을 보관하여 요청 ID를 쉽게 찾을 수 있습니다
3. **주기적 확인**: 처리 시간이 오래 걸리는 경우 주기적으로 진행상황을 확인하세요
4. **오류 확인**: 처리가 실패한 경우 오류 메시지를 확인하여 원인을 파악하세요

## 문제 해결

### 요청이 목록에 나타나지 않아요
- 브라우저의 localStorage가 활성화되어 있는지 확인
- 시크릿 모드에서는 localStorage가 제한될 수 있습니다

### 실시간 로그가 표시되지 않아요
- 요청이 이미 완료되었을 수 있습니다 (완료된 요청은 로그 스트림이 종료됨)
- 페이지를 새로고침하고 다시 시도해보세요

### 요청 ID가 유효하지 않다는 메시지가 나와요
- 요청 ID 형식을 확인하세요 (36자, 하이픈 포함)
- 이메일에서 복사할 때 공백이 포함되지 않았는지 확인

## 스크린샷

### 메인 페이지에서 진행상황 조회 링크
![Main Page](https://github.com/user-attachments/assets/879049c6-9e66-48d5-883b-07d2208be310)

### 진행상황 조회 페이지 - 빈 상태
![Status Page](https://github.com/user-attachments/assets/6d3d0cae-1be8-4973-8f7a-1094c08ccdbf)

### 진행상황 조회 페이지 - 요청 ID 추가됨
![Status Page with Request](https://github.com/user-attachments/assets/0b906d8c-02da-445f-b5a2-e50b1b954877)
